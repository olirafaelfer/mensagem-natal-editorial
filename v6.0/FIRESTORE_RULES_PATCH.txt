ğŸ”¥ IMPORTANTE â€” Ajuste nas Firestore Rules (para avatar sem Storage)

VocÃª disse que NÃƒO vai usar Firebase Storage (pago).
EntÃ£o o avatar (foto/Ã­cone) precisa ser salvo no Firestore no doc pÃºblico do ranking:

Collection: /rankingByEmail/{emailHash}
Novo campo opcional: avatar (string)

âœ… O app agora salva:
- avatar = dataURL pequeno (ex: data:image/jpeg;base64,....) OU
- avatar = emoji (ex: ğŸ…)

â¡ï¸ Para isso funcionar SEM "Missing or insufficient permissions",
vocÃª precisa permitir o campo 'avatar' nas rules do rankingByEmail.

1) No bloco:
request.resource.data.keys().hasOnly([...])

adicione 'avatar' na lista.

2) Adicione validaÃ§Ã£o (opcional, mas recomendado) logo apÃ³s as validaÃ§Ãµes bÃ¡sicas:

&& (!('avatar' in request.resource.data)
    || (request.resource.data.avatar is string
        && request.resource.data.avatar.size() <= 200000
        && (request.resource.data.avatar.matches('^data:image/(jpeg|png|webp|svg\\+xml);base64,[A-Za-z0-9+/=]+$')
            || request.resource.data.avatar.matches('^[^ ]{1,4}$')  // emoji curto
        )
    )
)

ObservaÃ§Ã£o:
- 200k chars Ã© um limite seguro pra nÃ£o estourar o doc.
- Se quiser, pode remover o regex de emoji e aceitar qualquer string curta.

ApÃ³s atualizar rules, o upload deve gravar e o ranking passa a exibir a foto/Ã­cone.
